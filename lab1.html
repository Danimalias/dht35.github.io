<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Daniela Tran ECE 5160</title>
        <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
            <a class="navbar-brand js-scroll-trigger" href="#page-top">
                <span class="d-block d-lg-none">Daniela Tran</span>
                <span class="d-none d-lg-block"><img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="https://github.com/user-attachments/assets/803dbfde-941a-4486-abd3-57a8b59cc931" alt="IMG_3155(1)"/></span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#about">About</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#experience">Lab 1A</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#interests">Lab 1B</a></li>
                </ul>
            </div>
        </nav>
        <!-- Page Content-->
        <div class="container-fluid p-0">
            <!-- About-->
            <section class="resume-section" id="about">
                <div class="resume-section-content">
                    <h1 class="mb-0">
                        Lab 
                        <span class="text-primary">1</span>
                    </h1>
                    <div class="subheading mb-5">
                        Artemis/Bluetooth
                    </div>
                    
                </div>
            </section>
            <hr class="m-0" />
            <!-- Projects-->
            <section class="resume-section" id="experience">
                <div class="resume-section-content">
                    <h2 class="mb-5">Lab 1A</h2>
                    <div class="d-flex flex-column justify-content-between align-items-start mb-5">
                        <!-- Content and Date container -->
                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">Prelab</h3>
                            <div class="subheading mb-3">Setup</div>
                            <p>To prepare for this lab I first downloaded the most recent version of the Arduino IDE and downloaded the Sparkfun Apollo3 board. Then I connected to the Artemis board making sure to select the correct COM port.</p>
                        </div>

                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">Blink</h3>
                            <p>The first task was to follow the example code given to make the onboard LED blink. Below is a video.</p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/P_AClzqL45Y" 
                            title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
                            </iframe>
                        </div>

                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">Serial</h3>
                            <p>The second task was to run the Serial program on the Artemis board to get familiar with serial monitor. We tested UART communication between the board and the computer. </p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/24WhMRMYMQk" 
                            title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
                            </iframe>
                        </div>

                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">Analog Read</h3>
                            <p>The third task was to test the onboard temperature sensor using the analogRead() function using an example code. As I put my finger nearer to the sensor, the temperature sensor output on the Serial monitor rose.</p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/LUs4Hg5lOAs" 
                                title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
                                </iframe>
                        </div>

                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">Microphone Output</h3>
                            <p>The fourth task was to test out the microphone on the board. I used a video that had different frequencies and saw how the microphone picked up the different frequencies using the Serial monitor.</p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/w-QsfB1QJ70?si=sbsXRNbRrSRNrzgH" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                        </div>

                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">Additional 5000 Task</h3>
                            <p>The last task was to make a program that would light up the onboard LED whenever a C note was played. In order to
                                achieve this I combined the blink and the microphone examples together and edited the main loop function so that
                                it would blink the LED. I edited the printLoudest() function on the given example microphone code and in the main loop, added an if
                                statement that would light up the LED whenever it detected a frequency range between 260 and 265 Hz since that range 
                                corresponded to a C note. Below is a video where I tested it with and without a C note playing. 
                            </p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/uHXTgAfO0LQ" 
                                title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
                            </iframe>
                            <img src="assets\img\lab1ACnote.jpg" 
                                alt="Lab 1 C Note" style="width: 400px; height: auto;"/>
                        </div>
                    </div>
                </div>
            </section>
            <section class="resume-section" id="interests">
                <div class="resume-section-content">

                    <h2 class="mb-5">Lab 1B</h2>
                    <div class="d-flex flex-column justify-content-between align-items-start mb-5">
                        <!-- Content and Date container -->
                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">Prelab</h3>
                            <div class="subheading mb-3">Setup</div>
                            <p>The setup for this lab involved creating a virtual Python environment with all the required 
                                packages for the course, along with the codebase needed for the lab tasks. After that, 
                                I configured Jupyter Lab to run the lab code and updated the necessary settings in the 
                                connection.yaml file, such as the MAC address and UUID, to enable my Artemis board to 
                                connect to my laptop. To ensure that only my laptop could pair with my board, I generated 
                                a random UUID in Python. Finally, I established a Bluetooth connection between my laptop 
                                and the board.
                            </p>
                            <img src="assets\img\Lab1BPrelab.jpg" 
                                alt="Lab 1 B" style="width: 400px; height: auto;"/>
                            <img src="assets\img\Lab1BPrelab2.jpg" 
                                alt="Lab 1 B" style="width: 400px; height: auto;"/>
                        </div>
                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">Echo</h3>
                            <p>The first thing we had to do was set up the echo command so that it would 
                                send a string value to the Artemis board. On the computer side, I augmented the 
                                message from the Artemis by adding an R. 
                            </p>
                            <img src="assets\img\echo.jpg" 
                                alt="echo" style="width: 400px; height: auto;"/>
                            <img src="assets\img\echo1.jpg" 
                                alt="echo1" style="width: 400px; height: auto;"/>
                            <img src="assets\img\echo1output.jpg" 
                                alt="echo1output" style="width: 400px; height: auto;"/>
                        </div>

                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">SEND_THREE_FLOATS</h3>
                            <p>After finishing echo, I started on this command which was to send 3 floats from
                                the artemis board back. I followed the already given code in previous commands to set this up. 
                                As shown below, I had three variables that would be hold the three float values and used the function 
                                get next value to find the next float sent. 
                            </p>
                            <img src="assets\img\sendthreefloats.jpg" 
                                alt="3floats" style="width: 400px; height: auto;"/>
                            <img src="assets\img\sendthreefloats1.jpg" 
                                alt="3floats1" style="width: 400px; height: auto;"/>
        
                        </div>

                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">GET_TIME_MILLIS</h3>
                            <p> For this task I used the function millis() to get the current time and sent 
                                the time stamp back with a T: prefix. The python code on the computer would then 
                                receive this time and print it back out. To do this I used the function receive_string 
                                to get the time back. 
                            </p>
                            <img src="assets\img\gettimemillis.jpg" 
                                alt="timemillis" style="width: 400px; height: auto;"/>
                            <img src="assets\img\gettimemillis1.jpg" 
                                alt="timemillis1" style="width: 400px; height: auto;"/>
                        </div>

                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">Notification Handler</h3>
                            <p> To do this task I had to create a new function called notification handler that would 
                                automatically receive data from the baord and I made the function print out the data. 
                                This notification handler connects to the same UUID and converts the byte array to a string. 
                                I also used the function start_notify to set up the notification handler so it would work with
                                the other commands. Now rather than having to use the function receive_string, the python 
                                side would automatically print out the data. 
                            </p>
                            <img src="assets\img\notificationhandler.jpg"
                                alt ="notif" style="width: 400px; height: auto;"/>
                        </div>

                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">GET_TIME_LOOP_MILLIS</h3>
                            <p> For this next task, I set up a loop that would run for 2 seconds and generate the current time 
                                every 2 seconds. As soon as the data is made, it would send it back to the notification handler
                                to print out. I just counted the number of strings that the notification handler spewed out. 
                                In 2 seconds, 83 time stamps were received. The effective data transfer rate is (83*4)/2 = 166 bytes/sec. 
                            </p>
                            <img src="assets\img\gettimeloopmillis.jpg"
                                alt ="loop" style="width: 400px; height: auto;"/>
                                <img src="assets\img\gettimeloopmillis1.jpg"
                                alt ="loop1" style="width: 400px; height: auto;"/>
                        </div>

                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">SEND_TIME_DATA</h3>
                            <p> For this task I combined the previous task with a for loop that would send the generated time stamps one by one. 
                                Instead of sending the time stamps as soon as they were generated, I stored the time stamps in an array and once
                                the array was filled, I send it to the computer using the for loop. 
                            </p>
                            <img src="assets\img\sendtimedata.jpg"
                                alt ="timedata" style="width: 400px; height: auto;"/>
                                <img src="assets\img\sendtimedata1.jpg"
                                alt ="timedata1" style="width: 400px; height: auto;"/>
                                
                        </div>

                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">GET_TEMP_READINGS</h3>
                            <p> For this task, I used the previous task and added a second array that would be responsible for 
                                keeping track of the temperature values from the sensor. I collected data using the getTempDegF() function 
                                and stored the generated temperature values into an array the same size as the time stamps. I made sure 
                                to generate the time stamps and the temperature together so that each temperature corresponded to its respective 
                                time stamp. I edited the notification handler so that it would store the readings into two separate lists. 
                                I ran into some trouble where without the print statements within the notificaton handler, I wouldn't get any 
                                data from the print statements outside the function. This was due to the print statements outside the function 
                                finishing before the notification handler so I had to add some extra logic to debug this issue. Throughout these tasks
                                I did not use the same noticification handler but instead made several different versions. This made it imperative that 
                                I remember to use the function stop notify to ensure that I would get the correct data. 
                            </p>
                            <img src="assets\img\gettempreadings.jpg"
                                alt ="temp" style="width: 400px; height: auto;"/>
                                <img src="assets\img\gettempreadings1.jpg"
                                alt ="temp1" style="width: 400px; height: auto;"/>
                        </div>

                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">Discussion</h3>
                            <p>The two methods above have their pros and cons. The first method allows for real time transfer which could be useful for when 
                                real time data is needed and slower data transfer rates are ok. The second method however is much faster 
                                as by storing the data and sending it in a batch, this method avoids real time delays and data loss. In terms of 
                                data storage capacity where the Artemis board was 384 kB of RAM, since we are sending out data into floats which are 4 bytes, 
                                around 96000 data points can be stored before the Artemis runs out of memory. For Task 7 when we were sending the temperature and 
                                time stamps, this means 48000 pairs of data could be send. However this number would be much less since the data is transmitted as a string 
                                which could take more bytes depending on the amount of digits in the number. For example a 3 digit string would be 3 bytes but a 12 digit
                                one would take up around 12 bytes. This makes it hard to estimate how many strings. 
                            </p>
                        </div>

                        <div class="d-flex flex-column flex-grow-1">
                            <!-- Lab Text -->
                            <h3 class="mb-0">Additional 5000 Tasks</h3>
                            <div class="subheading mb-3">Effective Data Rate and Overhead</div>
                            <p> For the additional tasks, I measured peformance between the board and the computer by testing 
                                different reply sizes. I used the len() function to get the actual bytes of the strings and I wrote a loop that 
                                sends messages of different byte sizes. Then I calculated the time between sending and receving the message. 
                                As shown in the graph below the smaller size 5 byte results had much lower data rates than the larger reply sizes. 
                                Due to the byte string constraints, I was only able to test up to 148 bytes where the data rate was much higher. 
                                To pick a right reply size depends on the latency and throughput of these package sizes since we would get a quicker 
                                acknowledgement in a smaller reply size but we are less efficient.
                            </p>
                            <img src="assets\img\Lab1B5000.jpg"
                                alt ="temp" style="width: 400px; height: auto;"/>
                                <img src="assets\img\Lab1B5000plot.jpg"
                                alt ="tempplot" style="width: 400px; height: auto;"/>
                            <div class="subheading mb-3">Reliability</div>
                            <p>In addition to testing the data rate, I also tested the reliability by using the SEND_TIME_DATA function and I checked that no data
                                from the array was lost. This time I upped the array size to much larger than 25 and used a counter to see if it caught all the messages
                                which it did, showing that this is indeed reliable. 
                            </p>
                            <h3 class="mb-0">Conclusion</h3>
                            <p> In conclusion, this lab was very useful to get acquianted with the lab and code environment. I was able to get acquainted more with the
                                bluetooth library and get a refresher on C. I was also able to get familiar with the different methods of sending data between the board and
                                the computer and get a sense of the performance in these data transfer rates and how important they can be. 
                            </p>
                        </div>
                </div>
            </section>
            


            
        </div>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>

